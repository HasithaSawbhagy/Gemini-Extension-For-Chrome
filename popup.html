<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Gemini Flash Client</title> <!-- Simplified Title -->
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>
          <span class="logo">
            <img src="icons/google.png" alt="Gemini Logo" class="logo-img" />
          </span>
          <span class="logoFont">Gemini Client</span> <!-- More general name -->
        </h1>
        <div class="header-actions">
          <button id="themeToggleBtn" class="icon-btn" title="Toggle Theme">
            <span class="material-icons" id="themeIcon">brightness_auto</span>
          </button>
          <!-- Model badge removed, selection is now in settings -->
        </div>
      </header>
      <div class="api-key-section">
        <input
          type="password"
          id="apiKey"
          placeholder="Enter your API key"
          spellcheck="false"
        />
        <div class="button-row">
          <button id="saveKey" class="primary">
            <span class="material-icons btn-icon" id="saveKeyIcon">save</span>
            <span id="saveKeyText">Save Key</span>
          </button>
          <button id="clearKey" class="secondary">
            <span class="material-icons btn-icon">clear</span>
            <span>Clear</span>
          </button>
        </div>
      </div>

      <div class="settings-panel">
        <!-- NEW: Model Selection Dropdown -->
        <div class="settings-row">
          <label for="modelSelect">
            <span class="material-icons btn-icon">memory</span> <!-- Icon for model -->
            Model
          </label>
          <select id="modelSelect" name="modelSelect">
            <option value="">-- Enter API Key --</option> <!-- Default if no key/models -->
          </select>
        </div>
        <!-- End of Model Selection -->

        <div class="settings-row">
          <label for="temperature">
            <span class="material-icons btn-icon">tune</span>
            Creativity
          </label>
          <input
            type="range"
            id="temperature"
            min="0"
            max="1"
            step="0.1"
            value="0.7"
          />
          <span class="temp-value" id="tempValue">0.7</span>
        </div>

        <div class="settings-row page-content-toggle-row">
          <label for="includePageContentToggle" class="page-content-label">
            <span class="material-icons btn-icon">article</span>
            Read Page
          </label>
          <div class="toggle-switch">
            <input type="checkbox" id="includePageContentToggle" />
            <label class="slider" for="includePageContentToggle"></label>
          </div>
          <div id="pageContentStatus" class="page-content-status"></div>
        </div>

        <div class="settings-row model-search-toggle-row">
          <label for="enableModelSearchToggle" class="model-search-label">
            <span class="material-icons btn-icon">travel_explore</span>
            Model Search
          </label>
          <div class="toggle-switch">
            <input type="checkbox" id="enableModelSearchToggle" />
            <label class="slider" for="enableModelSearchToggle"></label>
          </div>
          <div id="modelSearchStatus" class="model-search-status"></div>
        </div>
      </div>

      <div id="messages"></div>

      <div class="prompt-section">
        <textarea
          id="prompt"
          placeholder="Ask Gemini anything... (Ctrl/Cmd+Enter)"
          spellcheck="true"
          rows="3"
        ></textarea>
        <div class="prompt-actions-row">
          <button id="submit" class="primary submit-btn">
            <span class="material-icons btn-icon" id="submitIconContent">send</span>
            <span id="submitText">Get Response</span>
          </button>
          <button id="googleSearchBtn" class="icon-btn secondary" title="Search prompt on Google">
            <span class="material-icons btn-icon">search</span>
          </button>
        </div>
      </div>

      <div class="response-header">
        <h3>Response</h3>
        <div class="response-actions">
          <button id="copyResponse" class="icon-btn" title="Copy to clipboard">
            <span class="material-icons btn-icon">content_copy</span>
          </button>
        </div>
      </div>
      <div id="response"></div>

      <div class="history-section" id="historySection">
        <div class="history-header">
          <h3>Recent</h3>
          <button id="clearHistory" class="icon-btn" title="Clear all history">
            <span class="material-icons btn-icon">delete_sweep</span>
          </button>
        </div>
        <div id="historyItems"></div>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>